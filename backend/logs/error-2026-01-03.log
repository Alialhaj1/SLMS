2026-01-03 09:03:10 [ERROR]: ❌ Migration failed: 077_seed_cash_boxes_and_bank_gl_accounts.sql ON CONFLICT DO UPDATE command cannot affect row a second time | {"length":239,"name":"error","severity":"ERROR","code":"21000","hint":"Ensure that no rows proposed for insertion within the same command have duplicate constrained values.","file":"nodeModifyTable.c","line":"2600","routine":"ExecOnConflictUpdate"}
2026-01-03 09:58:00 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/batch-numbers?page=1&limit=10&expired=false&expiring_soon=false","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"48ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 09:58:00 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/batch-numbers?page=1&limit=10&expired=false&expiring_soon=false","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"53ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 10:53:50 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/roles","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"16418ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 10:53:50 [ERROR]: Get unread count failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-03 10:53:50 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications/unread-count","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"14134ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 10:53:50 [ERROR]: Get notifications failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-03 10:53:50 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications?page=1&limit=10","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"14409ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 10:53:50 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/roles/permissions","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"16191ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 11:41:49 [ERROR]: Token refresh failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-03 11:41:49 [ERROR]: Request failed with server error | {"method":"POST","url":"/api/auth/refresh","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"7781ms"}
2026-01-03 12:11:52 [ERROR]: Request failed with server error | {"method":"POST","url":"/api/numbering-series/bootstrap","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"214ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 12:14:49 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/master/items","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"37ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 12:14:49 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/master/items","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"5ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 12:15:03 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/master/items","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"3ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 12:15:03 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/master/items","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"3ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-03 12:58:14 [ERROR]: ❌ Migration failed: 079_seed_inventory_master_data_more.sql value too long for type character varying(20) | {"length":745,"name":"error","severity":"ERROR","code":"22001","where":"SQL statement \"INSERT INTO item_categories (company_id, parent_id, code, name, name_en, name_ar, level, is_active)\r\n    VALUES\r\n      (c.id, cat_food_bev, 'CAT-FIN-FOOD-BEV-WATER', 'Water', 'Water', 'مياه', 4, TRUE),\r\n      (c.id, cat_food_bev, 'CAT-FIN-FOOD-BEV-JUICE', 'Juices', 'Juices', 'عصائر', 4, TRUE),\r\n      (c.id, cat_food_dry, 'CAT-FIN-FOOD-DRY-RICE',  'Rice & Grains', 'Rice & Grains', 'أرز وحبوب', 4, TRUE),\r\n      (c.id, cat_food_dry, 'CAT-FIN-FOOD-DRY-SPICE', 'Spices', 'Spices', 'بهارات', 4, TRUE)\r\n    ON CONFLICT (company_id, code) DO NOTHING\"\nPL/pgSQL function inline_code_block line 26 at SQL statement","file":"varchar.c","line":"632","routine":"varchar"}
2026-01-03 13:05:13 [ERROR]: ❌ Migration failed: 079_seed_inventory_master_data_more.sql value too long for type character varying(20) | {"length":745,"name":"error","severity":"ERROR","code":"22001","where":"SQL statement \"INSERT INTO item_categories (company_id, parent_id, code, name, name_en, name_ar, level, is_active)\r\n    VALUES\r\n      (c.id, cat_food_bev, 'CAT-FIN-FOOD-BEV-WATER', 'Water', 'Water', 'مياه', 4, TRUE),\r\n      (c.id, cat_food_bev, 'CAT-FIN-FOOD-BEV-JUICE', 'Juices', 'Juices', 'عصائر', 4, TRUE),\r\n      (c.id, cat_food_dry, 'CAT-FIN-FOOD-DRY-RICE',  'Rice & Grains', 'Rice & Grains', 'أرز وحبوب', 4, TRUE),\r\n      (c.id, cat_food_dry, 'CAT-FIN-FOOD-DRY-SPICE', 'Spices', 'Spices', 'بهارات', 4, TRUE)\r\n    ON CONFLICT (company_id, code) DO NOTHING\"\nPL/pgSQL function inline_code_block line 26 at SQL statement","file":"varchar.c","line":"632","routine":"varchar"}
2026-01-03 13:20:26 [ERROR]: ❌ Migration failed: 080_seed_item_groups_arabic_catalog.sql relation "src" does not exist | {"length":977,"name":"error","severity":"ERROR","code":"42P01","internalPosition":"305","internalQuery":"INSERT INTO item_groups (\r\n      company_id, code, name, name_en, name_ar,\r\n      parent_group_id, group_type, sort_order, is_active\r\n    )\r\n    SELECT\r\n      c.id,\r\n      s.code,\r\n      s.name_en,\r\n      s.name_en,\r\n      s.name_ar,\r\n      p.id,\r\n      'sub',\r\n      s.sort_order,\r\n      TRUE\r\n    FROM src s\r\n    JOIN item_groups p\r\n      ON p.company_id = c.id\r\n     AND p.code = s.parent_code\r\n     AND p.deleted_at IS NULL\r\n    WHERE s.level = 2\r\n    ON CONFLICT (company_id, code) DO UPDATE SET\r\n      name = EXCLUDED.name,\r\n      name_en = EXCLUDED.name_en,\r\n      name_ar = EXCLUDED.name_ar,\r\n      parent_group_id = EXCLUDED.parent_group_id,\r\n      group_type = EXCLUDED.group_type,\r\n      sort_order = EXCLUDED.sort_order,\r\n      is_active = TRUE,\r\n      deleted_at = NULL,\r\n      updated_at = NOW()","where":"PL/pgSQL function inline_code_block line 411 at SQL statement","file":"parse_relation.c","line":"1392","routine":"parserOpenTable"}
