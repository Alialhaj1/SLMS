2026-01-06 05:33:47 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/reports/shipment-profitability?page=1&limit=100","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"44ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 05:33:52 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/reports/cost-variance?page=1&limit=100","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"6ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 08:28:45 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/reports/shipment-profitability?page=1&limit=100","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"43ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 08:28:50 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/reports/cost-variance?page=1&limit=100","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"11ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 08:29:29 [ERROR]: ❌ Migration failed: 098_seed_logistics_cost_default_accounts.sql relation "da" does not exist | {"length":103,"name":"error","severity":"ERROR","code":"42P01","position":"2556","file":"parse_relation.c","line":"1392","routine":"parserOpenTable"}
2026-01-06 11:29:40 [ERROR]: ❌ Migration failed: 098_seed_logistics_cost_default_accounts.sql relation "da" does not exist | {"length":103,"name":"error","severity":"ERROR","code":"42P01","position":"2556","file":"parse_relation.c","line":"1452","routine":"parserOpenTable"}
2026-01-06 08:37:15 [ERROR]: Get unread count failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-06 08:37:15 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications/unread-count","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"3715ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 10:42:03 [ERROR]: Get unread count failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-06 10:42:03 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications/unread-count","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"4817ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 12:10:33 [ERROR]: Get unread count failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-06 12:10:33 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications/unread-count","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"13649ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 13:00:55 [ERROR]: Get unread count failed Connection terminated due to connection timeout | {"cause":{}}
2026-01-06 13:00:55 [ERROR]: Request failed with server error | {"method":"GET","url":"/api/notifications/unread-count","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"5594ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-06 13:36:04 [ERROR]: ❌ Migration failed: 099_create_procurement_module.sql relation "uom" does not exist | {"length":101,"name":"error","severity":"ERROR","code":"42P01","file":"namespace.c","line":"433","routine":"RangeVarGetRelidExtended"}
2026-01-06 13:36:35 [ERROR]: ❌ Migration failed: 100_seed_procurement_data.sql column "is_active" of relation "permissions" does not exist | {"length":136,"name":"error","severity":"ERROR","code":"42703","position":"16885","file":"parse_target.c","line":"1075","routine":"checkInsertTargets"}
2026-01-06 13:37:23 [ERROR]: ❌ Migration failed: 100_seed_procurement_data.sql insert or update on table "vendors" violates foreign key constraint "vendors_payment_terms_id_fkey" | {"length":3850,"name":"error","severity":"ERROR","code":"23503","detail":"Key (payment_terms_id)=(13) is not present in table \"payment_terms\".","where":"SQL statement \"INSERT INTO vendors (company_id, code, name, name_ar, vendor_type, status_id, category_id, type_id, \r\n                         phone, email, address, credit_limit, currency_id, payment_terms_id, status, created_by)\r\n    SELECT * FROM (VALUES\r\n        (1, 'VND-001', 'Al-Rajhi Trading Co.', 'شركة الراجحي للتجارة', 'supplier', v_approved_status_id, v_local_category_id, v_materials_type_id,\r\n         '+966-11-4567890', 'info@alrajhi-trading.sa', 'Riyadh Industrial Area', 500000.00, v_sar_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-002', 'Gulf Petrochemicals', 'الخليج للبتروكيماويات', 'supplier', v_approved_status_id, v_local_category_id, v_materials_type_id,\r\n         '+966-13-8901234', 'sales@gulfpetro.com', 'Jubail Industrial City', 1000000.00, v_sar_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-003', 'Emirates Steel Industries', 'الإمارات للصناعات الحديدية', 'supplier', v_approved_status_id, v_intl_category_id, v_materials_type_id,\r\n         '+971-4-3456789', 'orders@emiratessteel.ae', 'Dubai Industrial City, UAE', 2000000.00, v_usd_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-004', 'MAERSK Shipping', 'ميرسك للشحن', 'freight', v_approved_status_id, v_freight_category_id, v_freight_type_id,\r\n         '+45-3363-3363', 'booking@maersk.com', 'Copenhagen, Denmark', 500000.00, v_usd_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-005', 'SAL Saudi Logistics', 'سال السعودية للخدمات اللوجستية', 'freight', v_approved_status_id, v_local_category_id, v_freight_type_id,\r\n         '+966-12-6789012', 'logistics@sal.com.sa', 'Jeddah Islamic Port', 300000.00, v_sar_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-006', 'German Machinery GmbH', 'الآلات الألمانية', 'supplier', v_approved_status_id, v_intl_category_id, v_materials_type_id,\r\n         '+49-89-12345678', 'sales@german-machinery.de', 'Munich, Germany', 1500000.00, v_eur_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-007', 'China Import Export Corp', 'شركة الصين للاستيراد والتصدير', 'supplier', v_approved_status_id, v_intl_category_id, v_materials_type_id,\r\n         '+86-21-87654321', 'trade@chinaie.cn', 'Shanghai, China', 800000.00, v_usd_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-008', 'Technical Solutions Ltd', 'حلول تقنية المحدودة', 'service', v_approved_status_id, v_local_category_id, v_services_type_id,\r\n         '+966-11-2345678', 'support@techsolutions.sa', 'Riyadh', 200000.00, v_sar_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-009', 'Al-Khaleej Customs Clearance', 'الخليج للتخليص الجمركي', 'freight', v_approved_status_id, v_freight_category_id, v_freight_type_id,\r\n         '+966-13-5678901', 'clearance@alkhaleej.sa', 'Dammam Port', 150000.00, v_sar_id, v_net30_terms_id, 'active', 1),\r\n        (1, 'VND-010', 'Saudi Industrial Supplies', 'السعودية للتوريدات الصناعية', 'supplier', v_draft_status_id, v_local_category_id, v_materials_type_id,\r\n         '+966-11-9876543', 'info@saudisupplies.sa', 'Riyadh', 250000.00, v_sar_id, v_net30_terms_id, 'active', 1)\r\n    ) AS v(company_id, code, name, name_ar, vendor_type, status_id, category_id, type_id, phone, email, address, credit_limit, currency_id, payment_terms_id, status, created_by)\r\n    WHERE NOT EXISTS (SELECT 1 FROM vendors WHERE company_id = 1 AND code = v.code)\"\nPL/pgSQL function inline_code_block line 30 at SQL statement","schema":"public","table":"vendors","constraint":"vendors_payment_terms_id_fkey","file":"ri_triggers.c","line":"2596","routine":"ri_ReportViolation"}
