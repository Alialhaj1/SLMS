2026-01-13 07:49:34 [ERROR]: Error deleting PO: new row for relation "purchase_orders" violates check constraint "prevent_delete_received_po" | {"length":632,"name":"error","severity":"ERROR","code":"23514","detail":"Failing row contains (128, 1, PO-SRV-000001, 2026-01-07, null, 696, null, null, 13, null, null, null, 1, 1.000000, 23, null, null, 0.0000, 0.0000, 0.0000, 0.0000, 46860.0000, 0.0000, 0.0000, null, partially_received, t, null, null, null, null, null, null, 1, 5, 2026-01-07 13:02:09.186177, 2026-01-07 13:02:09.186177, 2026-01-13 07:49:34.0247, f, f, null, f, null, null, null, null, null, not_required, null, null, null).","schema":"public","table":"purchase_orders","constraint":"prevent_delete_received_po","file":"execMain.c","line":"2074","routine":"ExecConstraints"}
2026-01-13 07:49:34 [ERROR]: Request failed with server error | {"method":"DELETE","url":"/api/procurement/purchase-orders/128","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"19ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-13 07:49:48 [ERROR]: Error deleting PO: new row for relation "purchase_orders" violates check constraint "prevent_delete_received_po" | {"length":634,"name":"error","severity":"ERROR","code":"23514","detail":"Failing row contains (108, 1, PO-LOC-000001, 2026-01-07, null, 602, null, null, 11, null, null, null, 1, 1.000000, 23, null, null, 0.0000, 0.0000, 0.0000, 0.0000, 60508.0000, 0.0000, 0.0000, null, partially_received, t, null, null, null, null, null, null, 1, 5, 2026-01-07 13:02:09.186177, 2026-01-07 13:02:09.186177, 2026-01-13 07:49:48.284924, f, f, null, f, null, null, null, null, null, not_required, null, null, null).","schema":"public","table":"purchase_orders","constraint":"prevent_delete_received_po","file":"execMain.c","line":"2074","routine":"ExecConstraints"}
2026-01-13 07:49:48 [ERROR]: Request failed with server error | {"method":"DELETE","url":"/api/procurement/purchase-orders/108","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","statusCode":500,"duration":"3ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-13 07:56:58 [ERROR]: Error deleting PO: new row for relation "purchase_orders" violates check constraint "prevent_delete_received_po" | {"length":634,"name":"error","severity":"ERROR","code":"23514","detail":"Failing row contains (108, 1, PO-LOC-000001, 2026-01-07, null, 602, null, null, 11, null, null, null, 1, 1.000000, 23, null, null, 0.0000, 0.0000, 0.0000, 0.0000, 60508.0000, 0.0000, 0.0000, null, partially_received, t, null, null, null, null, null, null, 1, 5, 2026-01-07 13:02:09.186177, 2026-01-07 13:02:09.186177, 2026-01-13 07:56:58.122648, f, f, null, f, null, null, null, null, null, not_required, null, null, null).","schema":"public","table":"purchase_orders","constraint":"prevent_delete_received_po","file":"execMain.c","line":"2074","routine":"ExecConstraints"}
2026-01-13 07:56:58 [ERROR]: Request failed with server error | {"method":"DELETE","url":"/api/procurement/purchase-orders/108","ip":"::ffff:172.18.0.1","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7462","statusCode":500,"duration":"5ms","userId":5,"userEmail":"ali@alhajco.com","userRoles":["super_admin"]}
2026-01-13 12:13:25 [ERROR]: ❌ Migration failed: 118_approval_matrix.sql insert or update on table "approval_workflows" violates foreign key constraint "approval_workflows_created_by_fkey" | {"length":303,"name":"error","severity":"ERROR","code":"23503","detail":"Key (created_by)=(1) is not present in table \"users\".","schema":"public","table":"approval_workflows","constraint":"approval_workflows_created_by_fkey","file":"ri_triggers.c","line":"2619","routine":"ri_ReportViolation"}
2026-01-13 13:03:44 [ERROR]: ❌ Migration failed: 128_create_customs_declarations.sql INSERT has more target columns than expressions | {"length":119,"name":"error","severity":"ERROR","code":"42601","position":"19373","file":"analyze.c","line":"1035","routine":"transformInsertRow"}
2026-01-13 13:05:28 [ERROR]: ❌ Migration failed: 128_create_customs_declarations.sql INSERT has more target columns than expressions | {"length":119,"name":"error","severity":"ERROR","code":"42601","position":"19373","file":"analyze.c","line":"1035","routine":"transformInsertRow"}
