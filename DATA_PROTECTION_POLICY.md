# ๐ ุณูุงุณุฉ ุญูุงูุฉ ุงูุจูุงูุงุช - SLMS Data Protection Policy

> **ุงูุฅุตุฏุงุฑ**: 1.0  
> **ุงูุชุงุฑูุฎ**: 2026-02-01  
> **ุงููุณุชูู**: ุฅูุฒุงูู ูุฌููุน ุงููุทูุฑูู ูุงููุดุบููู

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ุงูููุงุนุฏ ุงูุฅูุฒุงููุฉ](#-ุงูููุงุนุฏ-ุงูุฅูุฒุงููุฉ-mandatory-rules)
2. [ุฌุฏูู ุงููุณุฎ ุงูุงุญุชูุงุทู](#-ุฌุฏูู-ุงููุณุฎ-ุงูุงุญุชูุงุทู)
3. [ุฅุฌุฑุงุกุงุช ุงูุงุณุชุฑุฌุงุน](#-ุฅุฌุฑุงุกุงุช-ุงูุงุณุชุฑุฌุงุน)
4. [ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ](#-ุงูุงุณุชุฌุงุจุฉ-ููุญูุงุฏุซ)
5. [ุงูุตูุงุญูุงุช ูุงููุณุคูููุงุช](#-ุงูุตูุงุญูุงุช-ูุงููุณุคูููุงุช)
6. [ูุตู ุงูุจูุฆุงุช](#-ูุตู-ุงูุจูุฆุงุช)

---

## ๐ซ ุงูููุงุนุฏ ุงูุฅูุฒุงููุฉ (MANDATORY RULES)

### โ ููููุน ุชูุงูุงู

```bash
# โ ูุฐุง ุงูุฃูุฑ ูุญุฐู ุฌููุน ุงูุจูุงูุงุช ููุงุฆูุงู!
docker-compose down -v

# โ ุญุฐู ูุจุงุดุฑ ูู ุงูุฌุฏุงูู
DELETE FROM table_name;

# โ ุชูุฑูุบ ุงูุฌุฏุงูู
TRUNCATE TABLE table_name;

# โ ุญุฐู ุงูุฌุฏุงูู
DROP TABLE table_name;
```

### โ ุงูุจุฏูู ุงูุตุญูุญ

```bash
# ุฅููุงู ุงูุฎุฏูุงุช (ุขูู)
docker-compose stop

# ุฅุนุงุฏุฉ ุชุดุบูู (ุขูู)
docker-compose restart

# ุฅุนุงุฏุฉ ุจูุงุก ุจุฏูู ุญุฐู ุงูุจูุงูุงุช (ุขูู)
docker-compose build --no-cache
docker-compose up -d
```

### โ๏ธ ูุจู ุฃู ุชุนุฏูู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. **ูุณุฎ ุงุญุชูุงุทู ุฅูุฒุงูู** ูุจู:
   - ุชุดุบูู migrations ุฌุฏูุฏุฉ
   - ุชุญุฏูุซ ุงูุจูุงูุงุช ุจุงูุฌููุฉ
   - ุญุฐู ุณุฌูุงุช
   - ุชุบููุฑ ูููู ุงูุฌุฏุงูู

2. **ุงูุชุฃูุฏ ูู ุงูุจูุฆุฉ**:
   ```bash
   # ุชุฃูุฏ ุฃูู ูู ุงูุจูุฆุฉ ุงูุตุญูุญุฉ
   echo $DATABASE_URL
   docker exec slms-postgres-1 psql -U slms -c "SELECT current_database();"
   ```

---

## ๐ ุฌุฏูู ุงููุณุฎ ุงูุงุญุชูุงุทู

| ุงูููุน | ุงูุชูุฑุงุฑ | ุงูููุช | ุงูุงุญุชูุงุธ |
|-------|---------|-------|----------|
| **Full Backup** | ูููู | 03:00 ุตุจุงุญุงู | 30 ููู |
| **Master Data** | ูู 6 ุณุงุนุงุช | 00:00, 06:00, 12:00, 18:00 | 7 ุฃูุงู |
| **Transaction Logs** | ูู ุณุงุนุฉ | :00 | 24 ุณุงุนุฉ |
| **Pre-Migration** | ูุจู ูู migration | ุชููุงุฆู | 90 ููู |

### ๐ฆ ุงูุฌุฏุงูู ุงููุญููุฉ (Master Data)

```
โ items              - ุงูุฃุตูุงู
โ item_groups        - ูุฌููุนุงุช ุงูุฃุตูุงู
โ units              - ูุญุฏุงุช ุงูููุงุณ
โ vendors            - ุงูููุฑุฏูู
โ customers          - ุงูุนููุงุก
โ projects           - ุงููุดุงุฑูุน
โ shipments          - ุงูุดุญูุงุช
โ accounts           - ุงูุญุณุงุจุงุช
โ currencies         - ุงูุนููุงุช
โ countries          - ุงูุฏูู
โ cities             - ุงููุฏู
โ ports              - ุงูููุงูุฆ
โ customs_tariffs    - ุงูุชุนุฑููุฉ ุงูุฌูุฑููุฉ
โ companies          - ุงูุดุฑูุงุช
โ branches           - ุงููุฑูุน
โ warehouses         - ุงููุฎุงุฒู
โ cost_centers       - ูุฑุงูุฒ ุงูุชูููุฉ
โ printed_templates  - ููุงูุจ ุงูุทุจุงุนุฉ
โ users              - ุงููุณุชุฎุฏููู
โ roles              - ุงูุฃุฏูุงุฑ
โ permissions        - ุงูุตูุงุญูุงุช
โ vendor_payments    - ูุฏููุนุงุช ุงูููุฑุฏูู
โ expense_requests   - ุทูุจุงุช ุงููุตุฑููุงุช
```

---

## ๐ ุฅุฌุฑุงุกุงุช ุงูุงุณุชุฑุฌุงุน

### ุงุณุชุฑุฌุงุน ูุงูู

```bash
# 1. ุฅููุงู ุงูุฎุฏูุงุช
docker-compose stop backend frontend-next

# 2. ุงุณุชุฑุฌุงุน ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
docker exec -i slms-postgres-1 psql -U slms -d slms_db < backup_file.sql

# 3. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช
docker-compose start backend frontend-next
```

### ุงุณุชุฑุฌุงุน ุฌุฏูู ูุญุฏุฏ

```bash
# ุงุณุชุฎุฑุงุฌ ุฌุฏูู ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
pg_restore -t table_name -d slms_db backup_file.dump
```

### ุงุณุชุฑุฌุงุน ูู ูุงุฌูุฉ ุงููุธุงู

1. ุงูุชูู ุฅูู: **ุงููุธุงู โ ูุฑูุฒ ุงููุณุฎ ุงูุงุญุชูุงุทู**
2. ุงุฎุชุฑ **ุงุณุชุนุฑุงุถ ุงููุณุฎ ุงููุชุงุญุฉ**
3. ุงุฎุชุฑ ุงููุณุฎุฉ ุงููุทููุจุฉ
4. ุงุถุบุท **ุงุณุชุฑุฌุงุน** (ูุชุทูุจ ุตูุงุญูุฉ super_admin)

---

## ๐จ ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ

### ุนูุฏ ููุฏุงู ุงูุจูุงูุงุช:

1. **ูุง ุชูุนุฏูู ุฃู ุดูุก** - ุฃููู ุฌููุน ุงูุนูููุงุช ููุฑุงู
2. **ุฃุจูุบ ุงููุณุคูู** - ุงุชุตู ุจู System Admin
3. **ุญุฏุฏ ุงููุทุงู** - ูุง ูู ุงูุจูุงูุงุช ุงูููููุฏุฉุ
4. **ุงุจุญุซ ุนู ุฃุญุฏุซ ูุณุฎุฉ** - ุฑุงุฌุน `/backups/`
5. **ููุฐ ุงูุงุณุชุฑุฌุงุน** - ุจุฅุดุฑุงู ุงููุณุคูู
6. **ูุซูู ุงูุญุงุฏุซ** - ุณุจุจ ุงูุญุงุฏุซ ูููููุฉ ููุนู

### ูุงุฆูุฉ ุงูุชุญูู ููุญูุงุฏุซ

- [ ] ุชู ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช
- [ ] ุชู ุชุญุฏูุฏ ุงูุจูุงูุงุช ุงูููููุฏุฉ
- [ ] ุชู ุงูุนุซูุฑ ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุตุงูุญุฉ
- [ ] ุชู ุงุฎุชุจุงุฑ ุงูุงุณุชุฑุฌุงุน ูู ุจูุฆุฉ ูููุตูุฉ
- [ ] ุชู ุงูุงุณุชุฑุฌุงุน ูู ุงูุฅูุชุงุฌ
- [ ] ุชู ุงูุชุญูู ูู ุณูุงูุฉ ุงูุจูุงูุงุช
- [ ] ุชู ุชูุซูู ุงูุญุงุฏุซ

---

## ๐ฅ ุงูุตูุงุญูุงุช ูุงููุณุคูููุงุช

### super_admin ููุท ููููู:

- โ ุชูููุฐ ูุณุฎ ุงุญุชูุงุทู ูุงูู
- โ ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช
- โ ุญุฐู ููุงุฆู (hard delete)
- โ ุชุดุบูู migrations
- โ ุงููุตูู ููุฑูุฒ ุงููุณุฎ ุงูุงุญุชูุงุทู

### admin ููููู:

- โ ุนุฑุถ ุญุงูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ ุทูุจ ูุณุฎ ุงุญุชูุงุทู ูุฏูู
- โ ูุง ููููู ุงูุงุณุชุฑุฌุงุน

### ุฌููุน ุงููุณุชุฎุฏููู:

- โ ุงูุญุฐู ุงููุงุนู (soft delete) ููุท
- โ ูุง ูููููู ุงูุญุฐู ุงูููุงุฆู

---

## ๐ ูุตู ุงูุจูุฆุงุช

| ุงูุจูุฆุฉ | ุงูุบุฑุถ | ูุงุนุฏุฉ ุงูุจูุงูุงุช | Volume |
|--------|-------|----------------|--------|
| **development** | ุงูุชุทููุฑ | slms_db_dev | slms_db-data-dev |
| **staging** | ุงูุงุฎุชุจุงุฑ | slms_db_staging | slms_db-data-staging |
| **production** | ุงูุฅูุชุงุฌ | slms_db | slms_db-data |

### โ๏ธ ููุงุนุฏ ุตุงุฑูุฉ:

1. **ูุง ุชุณุชุฎุฏู** ุจูุงูุงุช ุงูุฅูุชุงุฌ ูู ุงูุชุทููุฑ
2. **ูุง ุชูุฌุฑูุจ** migrations ุฌุฏูุฏุฉ ุนูู ุงูุฅูุชุงุฌ ูุจุงุดุฑุฉ
3. **ุงุฎุชุจุฑ** ูู ุดูุก ูู staging ุฃููุงู
4. **ุงุณุชุฎุฏู** ุจูุงูุงุช ููููุฉ ููุชุทููุฑ

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุทูุงุฑุฆ ุงูุดูุฑู

ูู ุดูุฑุ ูููุฐ:

1. ุงุญุฐู ูุงุนุฏุฉ ุจูุงูุงุช **ุชุฌุฑูุจูุฉ**
2. ูููุฐ ุงูุงุณุชุฑุฌุงุน ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
3. ุชุฃูุฏ ุฃู ุฌููุน ุงูุจูุงูุงุช ุณูููุฉ
4. ูุซูู ุงููุชุงุฆุฌ

```bash
# ูุซุงู ุงุฎุชุจุงุฑ ุงูุทูุงุฑุฆ
docker-compose -f docker-compose.test.yml up -d
# ... ุชูููุฐ ุงูุงุฎุชุจุงุฑ ...
docker-compose -f docker-compose.test.yml down -v  # ุขูู ูุฃููุง ุจูุฆุฉ ุงุฎุชุจุงุฑ
```

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

| ุงูุชุงุฑูุฎ | ุงูุฅุตุฏุงุฑ | ุงูุชุบููุฑ | ุงููุณุคูู |
|---------|---------|---------|---------|
| 2026-02-01 | 1.0 | ุงูุฅุตุฏุงุฑ ุงูุฃูู | System |

---

> **โ๏ธ ุชุญุฐูุฑ**: ุนุฏู ุงูุงูุชุฒุงู ุจูุฐู ุงูุณูุงุณุฉ ูุฏ ูุคุฏู ุฅูู ููุฏุงู ุจูุงูุงุช ุบูุฑ ูุงุจู ููุงุณุชุฑุฌุงุน.
