# âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø¹Ø±Ø¶ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ù…Ø¯ÙŠØ±ÙŠÙ†

## ğŸ“Œ Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡

### 1. âœ… ØµÙØ­Ø© Admin Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
**Ø§Ù„Ù…Ù„Ù:** `frontend-next/pages/admin/help-requests.tsx`

**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:**
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ÙˆØ§Ø¬Ù‡Ø© Ø¬Ù…ÙŠÙ„Ø©
- ÙÙ„Ø§ØªØ± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© (Pending/Approved/Rejected/Resolved)
- ÙÙ„Ø§ØªØ± Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ (Access Request/Permission Request/General Support)
- Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ø·Ù„Ø¨:
  - Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
  - Ø§Ù„Ø´Ø±ÙƒØ©
  - ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨
  - Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©
  - Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
  - Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- Ø²Ø± "Review" Ù„ÙƒÙ„ Ø·Ù„Ø¨
- Ù…ÙˆØ¯Ø§Ù„ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¹:
  - Ø­Ù‚Ù„ Ù„Ø¥Ø¯Ø®Ø§Ù„ Admin Response
  - Ø£Ø²Ø±Ø§Ø±: Approve / Reject / Resolve
- Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø­Ù„Ù‡Ø§ Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø°ÙŠ Ø­Ù„Ù‡Ø§

### 2. âœ… Backend API Endpoint Ù„Ù„ØªØ­Ø¯ÙŠØ«
**Ø§Ù„Ù…Ù„Ù:** `backend/src/routes/helpRequests.ts`

**Endpoint Ø¬Ø¯ÙŠØ¯:**
```
PUT /api/help-requests/:id
Body: {
  status: 'approved' | 'rejected' | 'resolved',
  admin_response: string
}
```

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:**
- ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
- Ø­ÙØ¸ Ø±Ø¯ Ø§Ù„Ù…Ø¯ÙŠØ±
- ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø°ÙŠ Ø­Ù„ Ø§Ù„Ø·Ù„Ø¨ (resolved_by)
- ØªØ³Ø¬ÙŠÙ„ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø­Ù„ (resolved_at)
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø©

### 3. âœ… Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ÙÙŠ Sidebar
**Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©:**
- `frontend-next/config/menu.registry.ts` - Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
- `frontend-next/config/menu.permissions.ts` - Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
- `frontend-next/locales/en.json` - Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
- `frontend-next/locales/ar.json` - Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

**Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:** `help_requests:view`

**Ù…ÙƒØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©:**
```
System Administration
  â”œâ”€ Companies
  â”œâ”€ Branches
  â”œâ”€ Settings
  â”œâ”€ Audit Logs
  â””â”€ Help Requests â¬…ï¸ Ø¬Ø¯ÙŠØ¯
```

### 4. âœ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
- Backend: ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„ØªØ­Ù…ÙŠÙ„ PUT endpoint
- Frontend: ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

---

## ğŸ§ª ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø¯ÙŠØ±
```
Ø§Ù„Ø¨Ø±ÙŠØ¯: ali@alhajco.com
ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: YourPassword
Ø§Ù„Ø¯ÙˆØ±: super_admin
```

Ø£Ùˆ Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ© `help_requests:view`

### Ø§Ù„Ø®Ø·ÙˆØ© 2: ÙØªØ­ ØµÙØ­Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
**Ø·Ø±ÙŠÙ‚ØªØ§Ù†:**

**Ø£) Ù…Ù† Sidebar:**
1. Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… "System Administration" (Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…)
2. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Help Requests" (Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©)

**Ø¨) Ù…Ø¨Ø§Ø´Ø±Ø©:**
```
http://localhost:3001/admin/help-requests
```

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨ ÙˆØ§Ø­Ø¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù†:
```
User ID: 10
Type: Permission Request
Subject: Ø§Ù„Ù…Ø³ØªÙˆØ¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
Status: Pending
Created: 2025-12-27 11:56
```

**Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª:**
1. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± "Review" Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø·Ù„Ø¨
2. Ø³ÙŠÙØªØ­ Ù…ÙˆØ¯Ø§Ù„ ÙŠØ¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
3. ÙŠÙ…ÙƒÙ†Ùƒ:
   - ÙƒØªØ§Ø¨Ø© Ø±Ø¯ ÙÙŠ Ø­Ù‚Ù„ "Admin Response"
   - Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø±Ø§Ø¡:
     - âœ… **Approve** - Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨
     - âŒ **Reject** - Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨
     - âœ”ï¸ **Resolve** - Ø­Ù„ Ø§Ù„Ø·Ù„Ø¨ (Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©)

### Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
1. Ø§ÙƒØªØ¨ Ø±Ø¯ ÙÙŠ Ø­Ù‚Ù„ "Admin Response"ØŒ Ù…Ø«Ù„:
   ```
   "ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ. ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ø­Ø³Ø§Ø¨Ùƒ."
   ```
2. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± "Approve"
3. Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ù„Ù‰ "Approved"
4. Ø³ÙŠØ¸Ù‡Ø± Ø§Ø³Ù…Ùƒ ÙƒÙ…Ø¯ÙŠØ± Ø§Ù„Ø°ÙŠ Ø­Ù„ Ø§Ù„Ø·Ù„Ø¨
5. Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª

### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ«
**ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:**
- Ø³ÙŠØºÙ„Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
- Ø³ØªØªØ­Ø¯Ø« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- Ø³ÙŠØ¸Ù‡Ø± badge Ø£Ø®Ø¶Ø± "Approved" Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨
- Ø³ÙŠØ¸Ù‡Ø± Ø±Ø¯ Ø§Ù„Ù…Ø¯ÙŠØ± Ø£Ø³ÙÙ„ Ø§Ù„Ø·Ù„Ø¨

**ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:**
```powershell
docker exec slms-postgres-1 psql -U slms -d slms_db -c "SELECT id, status, admin_response, resolved_by, resolved_at FROM help_requests WHERE id = 1;"
```

---

## ğŸ“Š Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©

### Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (List View)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ†˜ Help Requests                                         â”‚
â”‚ Manage user help requests and access permission requestsâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filters: [All Statuses â–¼] [All Types â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1 request found                              [Refresh]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸ“ Ø§Ù„Ù…Ø³ØªÙˆØ¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ    [Pending] [Permission Req] â”‚  â”‚
â”‚ â”‚ ğŸ‘¤ user@example.com  ğŸ“… Dec 27, 2025              â”‚  â”‚
â”‚ â”‚                                        [Review]    â”‚  â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚ â”‚ â”‚ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§...                              â”‚ â”‚  â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚ â”‚ Requested Permission: dashboard:view               â”‚  â”‚
â”‚ â”‚ Requested Page: /dashboard                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© (Review Modal)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Review Help Request                      [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Subject                                        â”‚
â”‚ Ø§Ù„Ù…Ø³ØªÙˆØ¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ                                â”‚
â”‚                                                â”‚
â”‚ Message                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                â”‚
â”‚ User Information                               â”‚
â”‚ Email: user@example.com                        â”‚
â”‚ Company: Company Name                          â”‚
â”‚                                                â”‚
â”‚ Request Details                                â”‚
â”‚ Permission: dashboard:view                     â”‚
â”‚ Page: /dashboard                               â”‚
â”‚                                                â”‚
â”‚ Admin Response                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ù‡Ù†Ø§...]                          â”‚ â”‚
â”‚ â”‚                                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                â”‚
â”‚ [âœ… Approve] [âŒ Reject] [â±ï¸ Resolve]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### Ù„Ø¹Ø±Ø¶ ØµÙØ­Ø© Help Requests:
```
help_requests:view
```

### Ù„ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª:
```
help_requests:manage
```

### Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙ‡Ø§ Ù‡Ø°Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹:
- âœ… **super_admin** - Ù„Ø¯ÙŠÙ‡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (*)
- âš ï¸ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ø£Ø®Ø±Ù‰ ØªØ­ØªØ§Ø¬ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© ÙŠØ¯ÙˆÙŠØ§Ù‹

---

## ğŸ—„ï¸ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„Ø£Ø¯ÙˆØ§Ø±

### Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
```sql
-- Ø¥Ø¶Ø§ÙØ© ØµÙ„Ø§Ø­ÙŠØ© Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
INSERT INTO permissions (permission_code, resource, action, description, name_en, name_ar, module)
VALUES 
  ('help_requests:view', 'help_requests', 'view', 'View help requests', 'View Help Requests', 'Ø¹Ø±Ø¶ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', 'help'),
  ('help_requests:manage', 'help_requests', 'manage', 'Manage help requests', 'Manage Help Requests', 'Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', 'help');
```

### ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„Ø¯ÙˆØ± (Ù…Ø«Ø§Ù„: Admin):
```sql
-- Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¹Ø±Ù Ø§Ù„Ø¯ÙˆØ±
SELECT id, name FROM roles WHERE name = 'Admin';

-- Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
SELECT id, permission_code FROM permissions WHERE permission_code LIKE 'help_requests%';

-- ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„Ø¯ÙˆØ± (Ø§Ø³ØªØ¨Ø¯Ù„ <role_id> Ø¨Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„ÙØ¹Ù„ÙŠ)
INSERT INTO role_permissions (role_id, permission_id)
SELECT <role_id>, id FROM permissions WHERE permission_code IN ('help_requests:view', 'help_requests:manage');
```

**Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:**
```powershell
# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
docker exec slms-postgres-1 psql -U slms -d slms_db -c "INSERT INTO permissions (permission_code, resource, action, description, name_en, name_ar, module) VALUES ('help_requests:view', 'help_requests', 'view', 'View help requests', 'View Help Requests', 'Ø¹Ø±Ø¶ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', 'help'), ('help_requests:manage', 'help_requests', 'manage', 'Manage help requests', 'Manage Help Requests', 'Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©', 'help') RETURNING id, permission_code;"

# ØªØ¹ÙŠÙŠÙ† Ù„Ù„Ø¯ÙˆØ± Admin (Ø§ÙØªØ±Ø¶ role_id = 1)
docker exec slms-postgres-1 psql -U slms -d slms_db -c "INSERT INTO role_permissions (role_id, permission_id) SELECT 1, id FROM permissions WHERE permission_code IN ('help_requests:view', 'help_requests:manage') ON CONFLICT DO NOTHING;"
```

---

## ğŸ”„ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ (Workflow)

### 1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ø³Ù„ Ø·Ù„Ø¨ Ù…Ø³Ø§Ø¹Ø¯Ø©
```
User â†’ POST /api/help-requests
  â†“
Database: INSERT INTO help_requests (status='pending')
  â†“
Frontend: Success screen
```

### 2. Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠØ±Ù‰ Ø§Ù„Ø·Ù„Ø¨
```
Admin â†’ GET /api/help-requests
  â†“
Backend: SELECT * FROM help_requests
  â†“
Frontend: Display list with filters
```

### 3. Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠØ±Ø§Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨
```
Admin clicks "Review"
  â†“
Modal opens with request details
  â†“
Admin writes response
  â†“
Admin clicks "Approve" / "Reject" / "Resolve"
```

### 4. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
```
Frontend â†’ PUT /api/help-requests/:id
  â†“
Backend: UPDATE help_requests 
  SET status = 'approved', 
      admin_response = '...',
      resolved_by = admin_id,
      resolved_at = NOW()
  â†“
Frontend: Refresh list, close modal
```

### 5. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ±Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø© (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹)
```
- Notification in Header
- Email notification
- Badge update
```

---

## ğŸ“ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© (Future Enhancements)

### 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶
- Badge ÙÙŠ Header Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- Email notifications (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

### 2. Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
- Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± "Approve"
- Ø¥Ø°Ø§ ÙƒØ§Ù† `requested_permission` Ù…ÙˆØ¬ÙˆØ¯
- ØªÙ†ÙÙŠØ°:
  ```sql
  INSERT INTO role_permissions (role_id, permission_id)
  SELECT ur.role_id, p.id
  FROM user_roles ur, permissions p
  WHERE ur.user_id = ? AND p.permission_code = ?
  ```

### 3. Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© (Comments Thread)
- Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
- Ù…Ø­Ø§Ø¯Ø«Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ù…Ø¯ÙŠØ±
- Ø³Ø¬Ù„ ÙƒØ§Ù…Ù„ Ù„Ù„ØªÙˆØ§ØµÙ„

### 4. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
- Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ø­Ù„
- Ù†Ø³Ø¨Ø© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶

---

## âœ… Ù…Ù„Ø®Øµ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### Ù…Ø§ ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ø§Ù‡ Ø§Ù„Ø¢Ù†:

1. âœ… Ø±Ø§Ø¨Ø· "Help Requests" ÙÙŠ Sidebar ØªØ­Øª "System Administration"
2. âœ… ØµÙØ­Ø© `/admin/help-requests` ØªØ¹Ù…Ù„
3. âœ… Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
4. âœ… Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ÙØªØ­ Ù…ÙˆØ¯Ø§Ù„ Review
5. âœ… Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© (Approve/Reject/Resolve)
6. âœ… Ø¹Ø±Ø¶ Ø±Ø¯ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«

### Ù…Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹:
- â¸ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- â¸ï¸ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
- â¸ï¸ Badge counter ÙÙŠ Header
- â¸ï¸ Email notifications

---

**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 27 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± (100% Ù…ÙƒØªÙ…Ù„)  
**Ø§Ù„Ù…Ø·ÙˆØ±:** AI Assistant  
**Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:** SLMS - Smart Logistics Management System
